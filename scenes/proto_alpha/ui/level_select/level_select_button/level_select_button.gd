@tool
extends PanelContainer


# ------------------------------------------------------------------------------
# Signals
# ------------------------------------------------------------------------------
signal pressed()

# ------------------------------------------------------------------------------
# Constants
# ------------------------------------------------------------------------------
const ANIM_PRESSED : StringName = &"pressed"

# ------------------------------------------------------------------------------
# Export Variables
# ------------------------------------------------------------------------------
@export var verbose : bool = false

# ------------------------------------------------------------------------------
# Variables
# ------------------------------------------------------------------------------
var _btn_pressed : bool = false

# ------------------------------------------------------------------------------
# Onready Variables
# ------------------------------------------------------------------------------
@onready var _icon_texture: TextureRect = %IconTexture

# ------------------------------------------------------------------------------
# Override Methods
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Private Methods
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Handler Methods
# ------------------------------------------------------------------------------
func _on_at_btn_pressed() -> void:
	_btn_pressed = true

func _on_at_btn_animation_finished(anim_name: StringName) -> void:
	if verbose:
		print(anim_name)
	if anim_name == ANIM_PRESSED and _btn_pressed:
		_btn_pressed = false
		pressed.emit()
