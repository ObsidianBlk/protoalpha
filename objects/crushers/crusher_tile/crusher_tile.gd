@tool
extends CrusherBlock


# ------------------------------------------------------------------------------
# Constants and ENUMs
# ------------------------------------------------------------------------------
const TILE_REGIONS : Array[Vector2] = [
	Vector2(256, 112),
	Vector2(272, 112),
	Vector2(240, 128)
]


# ------------------------------------------------------------------------------
# Export Variables
# ------------------------------------------------------------------------------
@export var tile_id : int = 0:						set=set_tile_id

# ------------------------------------------------------------------------------
# Onready Variables
# ------------------------------------------------------------------------------
@onready var _sprite: Sprite2D = %Sprite2D

# ------------------------------------------------------------------------------
# Setters
# ------------------------------------------------------------------------------
func set_tile_id(id : int) -> void:
	if id >= 0 and id < TILE_REGIONS.size() and id != tile_id:
		tile_id = id
		_UpdateSpriteRegion()

# ------------------------------------------------------------------------------
# Override Methods
# ------------------------------------------------------------------------------
func _ready() -> void:
	super._ready()
	_UpdateSpriteRegion()

# ------------------------------------------------------------------------------
# Private Methods
# ------------------------------------------------------------------------------
func _UpdateSpriteRegion() -> void:
	if _sprite != null:
		_sprite.region_rect.position = TILE_REGIONS[tile_id]
